# Advanced_Algorithm_VRP(高级算法大作业-无人机配送路径规划问题)

## 问题描述

无人机可以快速解决最后10 公里的配送，本作业要求设计一个算法，实现如下图所示区域
的无人机配送的路径规划。在此区域中，共有j 个配送中心，任意一个配送中心有用户所需
要的商品，其数量无限，同时任一配送中心的无人机数量无限。该区域同时有 k 个卸货点
（无人机只需要将货物放到相应的卸货点即可），假设每个卸货点会随机生成订单，一个订
单只有一个商品，但这些订单有优先级别，分为三个优先级别（用户下订单时，会选择优先
级别，优先级别高的付费高）：

- 一般：3 小时内配送到即可； 
- 较紧急：1.5 小时内配送到； 
- 紧急：0.5 小时内配送到。 

将时间离散化，也就是每隔t 分钟，所有的卸货点会生成订单（0-m 个订单），同时每
隔t 分钟，系统要做成决策，包括

- 哪些配送中心出动多少无人机完成哪些订单； 
- 每个无人机的路径规划，即先完成那个订单，再完成哪个订单，...，最后返回原来的配送
  中心；

（ps：系统做决策时，可以不对当前的某些订单进行配送，因为当前某些订单可能紧急程度
不高，可以累积后和后面的订单一起配送。）



## 目标

一段时间内（如一天），所有无人机的总配送路径最短



## 约束条件

满足订单的优先级别要求



## 基本假设

- 无人机一次最多只能携带n 个物品；
- 无人机一次飞行最远路程为20 公里（无人机送完货后需要返回配送点）； 
- 无人机的速度为60 公里/小时； 
- 配送中心的无人机数量无限； 
- 任意一个配送中心都能满足用户的订货需求；

##VRP&TWVRP简介
车辆路径规划问题（VRP） 是一个NP-hard问题。这意味着在一般情况下，没有已知的高效算法可以在多项式时间内解决它。具体来说，VRP问题属于组合优化问题的类别，其复杂性源于需要考虑多个约束条件，如车辆容量、路径长度、时间窗口等。虽然存在一些启发式算法和近似算法来解决VRP问题，但在一般情况下，找到确切的最优解仍然是一个挑战。TWVRP 是指时间窗口车辆路径规划问题（Time-Window Vehicle Routing Problem，TWVRP）。在这个问题中，除了考虑车辆容量、路径长度等因素外，还需要满足客户的时间窗口限制。具体来说，每个客户点都有一个指定的时间窗口，在这个时间窗口内必须被服务。TWVRP是VRP问题的一个变体，增加了时间维度的约束，使得路径规划更具挑战性。

## 解决方案-带时间窗的订单调度模型

#
模型主要分为5个模块：
初始化参数：

定义了配送中心数量、投放点数量、车辆速度、最大距离限制等参数。
设置了时间间隔、时间敏感度和模拟时长，以及每个投放点的最大订单生成数量。
生成数据：

模拟过程：

循环模拟从当前时间开始到指定的模拟结束时间。
每个时间间隔生成新的订单，按订单到期时间排序，并检查当前时间窗内的订单。
将到期订单按最近的配送中心分类。
车辆规划与路径优化：

对每个配送中心的到期订单，初始化车辆计划，并尝试合并车辆以减少运输成本。
使用遗传算法（GA）寻找车辆的最短配送路径。
打印每辆车的订单和路线信息。
订单处理：

从订单列表中移除已完成的订单，继续处理剩余订单。


